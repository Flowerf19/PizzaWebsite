CREATE DATABASE PizzaWebsite;

CREATE TABLE categories (
    id INT PRIMARY KEY AUTO_INCREMENT,
    category_name VARCHAR(255) NOT NULL,
    Description VARCHAR(255)
);

CREATE TABLE products (
    id INT PRIMARY KEY AUTO_INCREMENT, 
    products_name VARCHAR(255) NOT NULL,
    category_ID INT NOT NULL,
    description VARCHAR(255), 
    name INT, 
    image_url VARCHAR(255), 
    size INT,
    base TEXT,
    cheese VARCHAR(255), -- Corrected column name and data type

    CONSTRAINT fk_products_categories FOREIGN KEY (category_ID) REFERENCES categories(id) 
); 

CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(255) UNIQUE NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  hashpassword VARCHAR(255) NOT NULL,
  role INT DEFAULT 2
);

INSERT INTO categories (category_name, Description) 
VALUES 
    ('Classic', 'Traditional tomato sauce and cheese pizzas'),
    ('Specialty', 'Pizzas with unique toppings and flavors'),
    ('Vegetarian', 'Meat-free pizza options');

INSERT INTO products (products_name, category_ID, description, image_url, size, base, cheese)
VALUES
    ('Pepperoni Pizza', 1, 'Classic pepperoni and cheese', 'https://example.com/pepperoni.jpg', 12, 'Thin Crust', 'Mozzarella'),
    ('BBQ Chicken Pizza', 2, 'BBQ sauce, chicken, onions, and cheese', 'https://example.com/bbqchicken.jpg', 14, 'Hand Tossed', 'Cheddar'),
    ('Veggie Delight', 3, 'Mushrooms, onions, peppers, and olives', 'https://example.com/veggie.jpg', 10, 'Gluten-Free', 'None');

INSERT INTO users (username, email, hashpassword, role) 
VALUES 
    ('Nguyen Hoa', 'nguyenhoa@example.com', '123', 1),
    ('NhatMinh', 'nhatminh@example.com', '123', 1),
    ('AnotherUser', 'anotheruser@example.com', '123', 1);
